extends ../../layouts/default.pug
include ../../mixins/box-head.pug
include ../../mixins/product-layout.pug
include ../../mixins/pagination.pug
block main  
    .shop.sp_top_80
        if(products.length > 0)
            .container
                .row.grid__responsive
                    .col-xl-3.col-lg-3.col-md-4.col-sm-12.col-12
                        button.default__button.sidebar-collapse-btn(type="button", data-aos="fade-up", data-aos-duration="1800")
                            svg(xmlns="http://www.w3.org/2000/svg", height="24", viewBox="0 0 32 32", width="24")
                                g#Layer_2(data-name="Layer 2")
                                    path(d="m28.552 6.184h-2.671a4.556 4.556 0 0 0 -8.659 0h-13.774a1.449 1.449 0 0 0 0 2.9h13.774a4.556 4.556 0 0 0 8.659 0h2.671a1.449 1.449 0 0 0 0-2.9zm-7 3.138a1.69 1.69 0 1 1 1.689-1.69 1.692 1.692 0 0 1 -1.689 1.69z")
                                    path(d="m28.552 14.552h-13.774a4.556 4.556 0 0 0 -8.659 0h-2.671a1.448 1.448 0 0 0 0 2.9h2.671a4.556 4.556 0 0 0 8.659 0h13.774a1.448 1.448 0 0 0 0-2.9zm-18.1 3.138a1.69 1.69 0 1 1 1.686-1.69 1.692 1.692 0 0 1 -1.69 1.69z")
                                    path(d="m28.552 22.919h-2.671a4.556 4.556 0 0 0 -8.659 0h-13.774a1.449 1.449 0 0 0 0 2.9h13.774a4.556 4.556 0 0 0 8.659 0h2.671a1.449 1.449 0 0 0 0-2.9zm-7 3.138a1.69 1.69 0 1 1 1.689-1.689 1.692 1.692 0 0 1 -1.689 1.689z")
                        .sidebar.sidebar-collapse-hide
                            .sidebar__widget.widget-collapse-show
                                .sidebar__title
                                    h4 Danh mục
                                    i.fa.fa-angle-down
                                .sidebar__menu
                                    ul
                                        +sub_category(layoutProductsCategory)
                                        
                            .sidebar__widget.widget-collapse-show
                                .sidebar__title
                                    h4 Availability
                                    i.fa.fa-angle-down
                                .sidebar__menu
                                    ul
                                        li
                                            .sidebar__box
                                                input#in_stock(type="checkbox")
                                                label(for="in_stock") In stock
                                                a(href="#") <span.shopsidebar__number>(14)</span>
                                        li
                                            .sidebar__box
                                                input#out__of__stock(type="checkbox")
                                                label(for="out__of__stock") Out of stock
                                                a(href="#") <span.shopsidebar__number>(14)</span>
                            .sidebar__widget.widget-collapse-show
                                .sidebar__title
                                    h4 Size
                                    i.fa.fa-angle-down
                                .sidebar__menu
                                    ul
                                        li
                                            .sidebar__box
                                                input#in_stock10(type="checkbox")
                                                label(for="in_stock10") s
                                                a(href="#") <span.shopsidebar__number>(14)</span>
                                        li
                                            .sidebar__box
                                                input#out__of__stock11(type="checkbox")
                                                label(for="out__of__stock11") m
                                                a(href="#") <span.shopsidebar__number>(14)</span>
                                        li
                                            .sidebar__box
                                                input#out__of__stock12(type="checkbox")
                                                label(for="out__of__stock12") l
                                                a(href="#") <span.shopsidebar__number>(14)</span>
                                        li
                                            .sidebar__box
                                                input#out__of__stock13(type="checkbox")
                                                label(for="out__of__stock13") xl
                                                a(href="#") <span.shopsidebar__number>(14)</span>
                                        li
                                            .sidebar__box
                                                input#out__of__stock14(type="checkbox")
                                                label(for="out__of__stock14") xxl
                                                a(href="#") <span.shopsidebar__number>(14)</span>

                    .col-xl-9.col-lg-9.col-md-8.col-sm-12.col-12
                        .shop__right__wraper
                            .shop__tab
                                ul.nav#myTab(role="tablist")
                                    li.nav-item(role="presentation")
                                        button.shop__tap__link.active(type="button", data-bs-toggle="tab", data-bs-target="#projects__one")
                                            i.fas.fa-th-large
                                    li.nav-item(role="presentation")
                                        button.shop__tap__link(type="button", data-bs-toggle="tab", data-bs-target="#projects__two")
                                            i.fas.fa-list
                            .shop__selecte
                                select.nice-select(name="SortBy", id="SortBy")
                                    option(value="manual") Featured
                                    option(value="best-selling") Best Selling
                                    option(value="title-ascending") Alphabetically, A-Z
                                    option(value="title-descending") Alphabetically, Z-A
                                    option(value="price-ascending") Price, low to high
                                    option(value="price-descending") Price, high to low
                                    option(value="created-descending") Date, new to old
                                    option(value="created-ascending") Date, old to new
                            .shop__number.text-right
                                span Showing 1 - 15 of 68 result


                        .tab-content#myTabContent
                            .tab-pane.fade.active.show#projects__one(role="tabpanel", aria-labelledby="projects__one")
                                .row.grid__responsive

                                    each item in products
                                        .col-xl-4.col-lg-4.col-md-6.col-sm-6.col-6
                                            .grid__wraper
                                                .grid__wraper__img
                                                    .grid__wraper__img__inner
                                                        a(href=`/products/detail/${item.slug}`)
                                                            img.primary__image(src=item.thumbnail[0] alt=item.title height="300px" weigh="300px")
                                                            //- img.secondary__image(src="img/grid/grid__2.png" alt="Secondary Image")
                                                    .grid__wraper__icon
                                                        ul
                                                            li
                                                                span(data-bs-toggle="modal" data-bs-target="#exampleModal")
                                                                    a(href=`/products/detail/${item.slug}` data-bs-toggle="tooltip" data-bs-placement="top" title="Chi tiết" data-bs-original-title="Quick View")
                                                                        i.far.fa-eye
                                                            li
                                                                a(href=`/cart/add/${item.id}` data-bs-toggle="tooltip" data-bs-placement="top" title="Thêm vào giỏ hàng" data-bs-original-title="Add To Cart")
                                                                    i.fas.fa-shopping-cart
                                                            li
                                                                a(href=`/cart/add/${item.id}` data-bs-toggle="tooltip" data-bs-placement="top" title="Add To Wishlist" data-bs-original-title="Add To Wishlist")
                                                                    i.far.fa-heart
                                                            li
                                                                a(href="#" data-bs-toggle="tooltip" data-bs-placement="top" title="Add To Compare" data-bs-original-title="Add To Compare")
                                                                    i.fas.fa-exchange-alt
                                                    .grid__wraper__badge
                                                        //- span.new__badge New
                                                        if(item.discountPercentage)
                                                            span.sale__badge -#{item.discountPercentage}%
                                                .grid__wraper__info
                                                    h3.grid__wraper__tittle
                                                        a(href=`/products/detail/${item.slug}` tabindex="0") #{item.title}
                                                    .grid__wraper__price
                                                        if item.variants && item.variants.length > 0
                                                            del #{item.variants[0].price} Đ
                                                            - var discountAmount = item.variants[0].price * (item.discountPercentage / 100)
                                                                span #{(item.variants[0].price - discountAmount).toFixed(0)} Đ 
                    +pagination(pagination)
                    
                    //- .pagination__wraper.text-center.sp_top_40
                    //-     ul
                    //-         if pagination.currentPage > 1
                    //-             li.disabled.prev
                    //-                 a(button-pagination=pagination.currentPage -1)
                    //-                     span
                    //-                         i.fas.fa-angle-double-left
                    //-         - for(let i = 1; i <= pagination.totalPage; i++)       
                    //-             li
                    //-                 a( class=`${pagination.currentPage == i? "active":""}` button-pagination=i) #{i}
                            
                    //-         if pagination.currentPage < pagination.totalPage
                    //-             li.next
                    //-                 a( title="Next »" button-pagination=pagination.currentPage + 1)
                    //-                     span(aria-hidden="true")
                    //-                         i.fas.fa-angle-double-right 
        else 
            h3(class="text-center") Không tìm thấy sản phẩm nào
        
        
    
    
    //- .container.my-5 
    //-     .row 
    //-         .col-12 
    //-             +box-head("Kết quả tìm kiếm")
    //-     if(products.length > 0)
    //-         +product-grid(products)
    //-     else 
    //-         h3(class="text-center") Không tìm thấy sản phẩm nào
            